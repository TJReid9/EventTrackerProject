<h1>Jam Log</h1>

<!-- <ul>
  <li *ngFor="let jam of jams">{{jam.title | json}}

    <li *ngFor="let jam of jams">{{jam | json}}
  </li>
</ul> -->

<div id="jamLog" *ngIf="!selected">
  <table class="table table-hover">
    <thead class="table-dark">
      <tr>
        <th>Title</th>
        <th>Instruments/Equipment</th>
        <th>BPM</th>
      </tr>
    </thead>
    <tbody class="table-secondary">
      <tr *ngFor="let jam of jams">
        <td (click)="displayJam(jam)">{{ jam.title }}</td>
        <td>{{ jam.gear }}</td>
        <td>{{ jam.bpm }}</td>
        <button class="btn btn-danger" (click)="deleteJam(jam.id)">Delete</button>
      </tr>
    </tbody>
  </table>
</div>

<div class="container-fluid">
<form name="addForm" class="card">
    <label for="title">Title:</label>
    <input id="title" type="text" name="title" [(ngModel)]="newJam.title" />
    <label for="songLink">Music Link:</label>
    <input id="songLink" type="text" name="songLink" [(ngModel)]="newJam.songLink" />
    <label for="gear">Instruments/Equipment:</label>
    <input id="gear" type="text" name="gear" [(ngModel)]="newJam.gear" />
    <label for="bpm">BPM:</label>
    <input id="bpm" type="number" name="bpm" [(ngModel)]="newJam.bpm" />
    <button class="btn btn-primary" (click)="addJam(newJam)">
      Add Jam Session
    </button>
  </form>
</div>



<div class="card text-bg-dark" *ngIf="selected && !editJam">
  <img src="assets/images/musicpic.jpeg" class="card-img" alt="...">
  <div class="card-img-overlay">
    <h5 class="card-title">ID:{{ selected.id }}</h5>
    <h5 class="card-title">{{ selected.title }}</h5>
    <audio controls>
      <source src="assets/media/{{selected.songLink}}" type="audio/mpeg">
      Your browser does not support the audio tag.
    </audio>
    <p class="card-text">Site Link:<br>{{ selected.siteLink }}</p>
    <p class="card-text">Instruments/Equipment:<br>{{ selected.gear }}</p>
    <p class="card-text">BPM:<br>{{ selected.bpm }}</p>
    <p class="card-text">Start Date:<br>{{ selected.startDate }}</p>
    <p class="card-text">Finish Date:<br>{{ selected.finishDate }}</p>
    <p class="card-text"> Description:<br />
      {{ selected.description }}</p>
      <br>
      <button class="btn btn-primary" (click)="displayTable()">Back</button>
      <br />
      <br />
      <button class="btn btn-primary" (click)="setEditJam()">Edit</button>

  </div>
</div>



<!-- <div class="card" style="max-width: 50rem" *ngIf="selected && !editJam">
  <img [src]="'assets/images/musicpic.jpeg'" />
  <img [src]="selected.imageUrl" />
   <h3>ID:{{ selected.id }}</h3>
  <h2>{{ selected.title }}</h2>
  <audio controls>
    <source src="assets/media/BoogieMonsta.mp3" type="audio/mpeg">
    Your browser does not support the audio tag.
  </audio>
  <h5>{{ selected.sessionDate }}</h5>
  <p>{{ selected.location }}</p>
  <p>
    Description:<br />
    {{ selected.description }}
  </p> -->





<!-- </div> -->

<div *ngIf="editJam">
  <form>
    <div class="row">
      <label for="title">Title:</label>
      <input type="text" name="title" [(ngModel)]="editJam.title" /><br />
    </div>
    <div class="row">
      <label for="date">Start Date:</label>
      <input type="text" name="date" [(ngModel)]="editJam.startDate" /><br />
    </div>
    <div class="row">
      <label for="startTime">Finish Date:</label>
      <input type="text" name="startTime" [(ngModel)]="editJam.finishDate"/><br />
    </div>
    <div class="row">
      <label for="songLink">Music Link:</label>
      <input type="text" name="songLink" [(ngModel)]="editJam.songLink" /><br />
    </div>
    <div class="row">
      <label for="siteLink">Site Link:</label>
      <input type="text" name="siteLink" [(ngModel)]="editJam.siteLink" /><br />
    </div>
    <div class="row">
      <label for="gear">Instruments/Equipment:</label>
      <input type="text" name="gear" [(ngModel)]="editJam.gear" /><br />
    </div>
    <div class="row">
      <label for="bpm">BPM:</label>
      <input type="text" name="bpm" [(ngModel)]="editJam.bpm" /><br />
    </div>
    <div class="row">
      <label for="editDescription">Description:</label>
      <input type="text" name="editDescription" [(ngModel)]="editJam.description"/><br />
    </div>
    <div class="row">
      <label for="imgUrl">Image:</label>
      <input type="text" name="imgUrl" [(ngModel)]="editJam.imgUrl"/><br />
    </div>

    <button class="btn btn-danger" (click)="editJam = null">Cancel</button>
    <br />
    <br />
    <button class="btn btn-success" (click)="updateJam(editJam)">Save</button>
  </form>
</div>
